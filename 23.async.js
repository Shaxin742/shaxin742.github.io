(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[23],{ZOrW:function(e,a,t){"use strict";var n=t("TqRt"),l=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,t("14J3");var s=n(t("BMrR"));t("jCWc");var r=n(t("kPKH"));t("qVdP");var i=n(t("jsC+"));t("Pwec");var d=n(t("CtXQ"));t("lUTK");var u,o,c,f=n(t("BvKs")),p=n(t("lwsE")),h=n(t("W8MJ")),g=n(t("a1gu")),m=n(t("Nsbk")),y=n(t("7W2i")),b=l(t("q1tI")),v=t("MuoO"),k=n(t("v99g")),D=t("+n12"),T=n(t("lVjH")),E=n(t("xqX8")),C=b.default.lazy(function(){return Promise.all([t.e(0),t.e(38)]).then(t.t.bind(null,"Y65U",7))}),P=b.default.lazy(function(){return Promise.all([t.e(0),t.e(41)]).then(t.t.bind(null,"20K/",7))}),S=b.default.lazy(function(){return Promise.all([t.e(0),t.e(42)]).then(t.t.bind(null,"b2ve",7))}),x=b.default.lazy(function(){return Promise.all([t.e(0),t.e(40)]).then(t.t.bind(null,"tLGd",7))}),R=b.default.lazy(function(){return Promise.all([t.e(0),t.e(39)]).then(t.t.bind(null,"Jqna",7))}),w=(u=(0,v.connect)(function(e){var a=e.chart,t=e.loading;return{chart:a,loading:t.effects["chart/fetch"]}}),u((c=function(e){function a(){var e,t;(0,p.default)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return t=(0,g.default)(this,(e=(0,m.default)(a)).call.apply(e,[this].concat(l))),t.state={salesType:"all",currentTabKey:"",rangePickerValue:(0,D.getTimeDistance)("year")},t.handleChangeSalesType=function(e){t.setState({salesType:e.target.value})},t.handleTabChange=function(e){t.setState({currentTabKey:e})},t.handleRangePickerChange=function(e){var a=t.props.dispatch;t.setState({rangePickerValue:e}),a({type:"chart/fetchSalesData"})},t.selectDate=function(e){var a=t.props.dispatch;t.setState({rangePickerValue:(0,D.getTimeDistance)(e)}),a({type:"chart/fetchSalesData"})},t.isActive=function(e){var a=t.state.rangePickerValue,n=(0,D.getTimeDistance)(e);return a[0]&&a[1]&&a[0].isSame(n[0],"day")&&a[1].isSame(n[1],"day")?T.default.currentDate:""},t}return(0,y.default)(a,e),(0,h.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){e({type:"chart/fetch"})})}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e({type:"chart/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e,a=this.state,t=a.rangePickerValue,n=a.salesType,l=a.currentTabKey,u=this.props,o=u.chart,c=u.loading,p=o.visitData,h=o.visitData2,g=o.salesData,m=o.searchData,y=o.offlineData,v=o.offlineChartData,D=o.salesTypeData,w=o.salesTypeDataOnline,V=o.salesTypeDataOffline;e="all"===n?D:"online"===n?w:V;var q=b.default.createElement(f.default,null,b.default.createElement(f.default.Item,null,"\u64cd\u4f5c\u4e00"),b.default.createElement(f.default.Item,null,"\u64cd\u4f5c\u4e8c")),I=b.default.createElement("span",{className:T.default.iconGroup},b.default.createElement(i.default,{overlay:q,placement:"bottomRight"},b.default.createElement(d.default,{type:"ellipsis"}))),K=l||y[0]&&y[0].name;return b.default.createElement(k.default,null,b.default.createElement(b.Suspense,{fallback:b.default.createElement(E.default,null)},b.default.createElement(C,{loading:c,visitData:p})),b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(P,{rangePickerValue:t,salesData:g,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:c,selectDate:this.selectDate})),b.default.createElement(s.default,{gutter:24},b.default.createElement(r.default,{xl:12,lg:24,md:24,sm:24,xs:24},b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(S,{loading:c,visitData2:h,selectDate:this.selectDate,searchData:m,dropdownGroup:I}))),b.default.createElement(r.default,{xl:12,lg:24,md:24,sm:24,xs:24},b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(x,{dropdownGroup:I,salesType:n,loading:c,salesPieData:e,handleChangeSalesType:this.handleChangeSalesType})))),b.default.createElement(b.Suspense,{fallback:null},b.default.createElement(R,{activeKey:K,loading:c,offlineData:y,offlineChartData:v,handleTabChange:this.handleTabChange})))}}]),a}(b.Component),o=c))||o),V=w;a.default=V},lVjH:function(e,a,t){e.exports={iconGroup:"antd-pro-pages-dashboard-analysis-iconGroup",rankingList:"antd-pro-pages-dashboard-analysis-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-offlineCard",trendText:"antd-pro-pages-dashboard-analysis-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-salesExtraWrap"}}}]);