(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c1cc"],{"23rR":function(t,e,n){"use strict";var i={name:"LeftTitle",data:function(){return{title:""}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var t=this.$route.matched.filter(function(t){return t.name});this.title=t[t.length-1].name}}},o=n("KHd+"),a=Object(o.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"titleLeft"},[this._v("\n  "+this._s(this.title)+"\n")])},[],!1,null,null,null);a.options.__file="index.vue";e.a=a.exports},"2b/m":function(t,e,n){"use strict";var i=n("3dKq");n.n(i).a},"3dKq":function(t,e,n){},"3s8Z":function(t,e,n){"use strict";var i=n("14Xm"),o=n.n(i),a=n("D3Ub"),r=n.n(a),l=n("kbZS"),s={directives:{elDragDialog:n("XINx").a},props:{fileList:{type:Array,default:function(){return[]}},uploadType:{type:String,default:function(){return"images"}}},data:function(){return{uploadTypeTrans:{photo:{urlPath:l.b,accept:"image/jpeg,image/png,image/bmp"},music:{urlPath:l.c,accept:"audio/mp3"},doc:{urlPath:l.a,accept:"application/pdf,text/plain,application/msword,application/excel,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.wordprocessingml.document"}},accept:"",dialogVisible:!1,seeTrans:{music:"MP3",photo:"jpg,jpeg,png",doc:"docx"},onClosed:function(){}}},mounted:function(){this.uploadType&&this.uploadTypeTrans[this.uploadType].accept&&(this.accept=this.uploadTypeTrans[this.uploadType].accept)},methods:{beforeAvatarUpload:function(t){var e=t.size/1024/1024<16;return e||this.$message.error("上传文件大小不能超过 16MB！"),e},handleRemove:function(t,e){var n=this;console.log(t,e),this.fileList.map(function(e,i){e.name===t.name&&(n.fileList.splice(i,1),n.$emit("getFileList",n.fileList))})},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"})},uploadFile:function(t){var e=this;return r()(o.a.mark(function n(){var i,a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(t),(i=new FormData).append(e.uploadType,t.file),n.next=6,e.uploadTypeTrans[e.uploadType].urlPath(i);case 6:0===(a=n.sent).error_code&&(a.data.map(function(n){e.fileList.push({name:t.file.name,url:n.file_url})}),e.$emit("getFileList",e.fileList),e.$emit("fileSize",t.file.size),e.$message.success("上传成功")),console.log(e.fileList),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),e.fileList.pop(),e.$message.error("上传文件错误: "+n.t0.message);case 15:return n.prev=15,e.$store.commit("CLOSE_WAITING"),n.finish(15);case 18:case"end":return n.stop()}},n,e,[[0,11,15,18]])}))()},handlePreview:function(t){var e={file:t,type:this.uploadType};this.$emit("showFile",e)},handleExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")}}},u=n("KHd+"),c=Object(u.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-upload",{staticClass:"upload-demo",attrs:{"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"before-upload":t.beforeAvatarUpload,limit:1,"on-exceed":t.handleExceed,"file-list":t.fileList,"http-request":t.uploadFile,accept:t.accept,action:""}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("请上传"+t._s(t.seeTrans[t.uploadType])+"格式文件，且不超过16Mb")])],1)],1)},[],!1,null,null,null);c.options.__file="index.vue";e.a=c.exports},Jk7x:function(t,e,n){},Mz3J:function(t,e,n){"use strict";var i={props:{currentTotal:{type:Number,default:function(){return 1}},currentPage:{type:Number,default:function(){return 1}},pageSize:{type:Number,default:function(){return 7}}},data:function(){return{currentPage1:1}},watch:{currentTotal:function(){console.log(this.currentTotal)},currentPage:function(){console.log(this.currentPage)}},methods:{handlePageSizeChange:function(t){console.log("每页 "+t+" 条")},handlePageCurrentChange:function(t){this.$emit("CurrentPage",t)},init:function(){this.currentPage1=1}}},o=(n("XCmQ"),n("KHd+")),a=Object(o.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":t.pageSize,total:t.currentTotal,background:"",layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.currentPage1=e},"size-change":t.handlePageSizeChange,"current-change":t.handlePageCurrentChange}})},[],!1,null,null,null);a.options.__file="index.vue";e.a=a.exports},QmE6:function(t,e,n){"use strict";var i=n("XINx"),o=n("o2sD"),a=n.n(o),r={name:"ImgShow",directives:{elDragDialog:i.a},data:function(){return{dialogVisible:!1,img2:a.a,imgUrl:""}},watch:{dialogVisible:function(t){!1===t&&(this.imgUrl="")}},methods:{open:function(t){var e=t.url.split("/");e[e.length-1]?this.imgUrl=t.url:this.imgUrl="",this.dialogVisible=!0}}},l=(n("2b/m"),n("KHd+")),s=Object(l.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con"},[n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogVisible,title:"图片查看",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.imgUrl?n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.imgUrl}})]):t._e(),t._v(" "),t.imgUrl?t._e():n("p",[t._v("暂无图片")])])],1)},[],!1,null,"f3370d9c",null);s.options.__file="index.vue";e.a=s.exports},XCmQ:function(t,e,n){"use strict";var i=n("Jk7x");n.n(i).a},XINx:function(t,e,n){"use strict";var i={bind:function(t,e,n){var i=t.querySelector(".el-dialog__header"),o=t.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",o.style.cssText+=";top:0px;";var a=window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]};i.onmousedown=function(t){var e=t.clientX-i.offsetLeft,r=t.clientY-i.offsetTop,l=o.offsetWidth,s=o.offsetHeight,u=document.body.clientWidth,c=document.body.clientHeight,d=o.offsetLeft,f=u-o.offsetLeft-l,p=o.offsetTop,m=c-o.offsetTop-s,h=a(o,"left"),g=a(o,"top");h.includes("%")?(h=+document.body.clientWidth*(+h.replace(/\%/g,"")/100),g=+document.body.clientHeight*(+g.replace(/\%/g,"")/100)):(h=+h.replace(/\px/g,""),g=+g.replace(/\px/g,"")),document.onmousemove=function(t){var i=t.clientX-e,a=t.clientY-r;-i>d?i=-d:i>f&&(i=f),-a>p?a=-p:a>m&&(a=m),o.style.cssText+=";left:"+(i+h)+"px;top:"+(a+g)+"px;",n.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},o=function(t){t.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(o)),i.install=o;e.a=i},YcAW:function(t,e,n){"use strict";var i=n("m1cH"),o=n.n(i),a=n("EJiy"),r=n.n(a),l=n("XINx"),s=n("lr0I"),u=n.n(s);function c(t){var e=void 0===t?"undefined":r()(t);if("number"===e||"string"===e){t=parseInt(t),t-=3600*Math.floor(t/3600);var n=Math.floor(t/60);return t-=60*n,("0"+n).slice(-2)+":"+("0"+t).slice(-2)}return"0:00:00"}var d={name:"AudioPlay",directives:{elDragDialog:l.a},filters:{formatSecond:function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}},data:function(){return{dialogVisible:!1,currentTime:0,logoUrl:u.a,songUrl:"",lrcObj:"",lrc:"",lrcList:[],lrcIndex:0,title:"",audio:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},sliderTime:0,volumeShow:!1,sliderVolume:100,lrcShow:!0,controlList:{noDownload:!0,noMuted:!0,noVolume:!1,noProcess:!1,onlyOnePlaying:!1,noSpeed:!0}}},watch:{dialogVisible:function(t){!1===t&&this.$refs.audio.pause()}},methods:{closeVol:function(){this.volumeShow=!1},showVol:function(){this.volumeShow=!0},formatProcessToolTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"进度条: "+c(t=parseInt(this.audio.maxTime/100*t))},formatVolumeToolTip:function(t){return"音量条: "+t},changeCurrentTime:function(t){this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime)},changeVolume:function(t){console.log(t),this.$refs.audio.volume=t/100,this.sliderVolume=t},startPlayOrPause:function(){return this.audio.playing?this.pause():this.play()},play:function(){this.$refs.audio.play()},pause:function(){this.$refs.audio.pause()},onPause:function(){this.audio.playing=!1},open:function(t){this.lrcList=[],this.songUrl=t.url,t.lrc=t.lrc.replace(/[\\r\\n]/g,""),""!==t.lrc?(this.lrcObj=this.handleLrc(t.lrc),console.log(this.lrcObj)):this.lrc="暂无歌词",t.imgUrl&&(this.logoUrl=t.imgUrl),this.title=t.name,this.dialogVisible=!0},handleLrc:function(t){var e=this,n=t.split("[");t.split("[").map(function(t){e.lrcList.push(t.slice(9))}),this.lrcList.shift(),n.shift();var i=[];n.map(function(t){i.push("["+t)}),n=i;for(var o=[],a=0;a<n.length;a++){var r=decodeURIComponent(n[a]),l=/\[\d*:\d*((\.|\:)\d*)*\]/g,s=r.match(l);if(s)for(var u=r.replace(l,""),c=0,d=s.length;c<d;c++){var f=s[c],p=60*Number(String(f.match(/\[\d*/i)).slice(1))+Number(String(f.match(/\:\d*/i)).slice(1));o.push({T:p,V:u})}}return o},onError:function(){this.audio.waiting=!0,this.$message.error("文件错误")},onWaiting:function(t){console.log(t)},onPlay:function(t){if(this.audio.playing=!0,this.audio.loading=!1,this.controlList.onlyOnePlaying){var e=t.target,n=document.getElementsByTagName("audio");[].concat(o()(n)).forEach(function(t){t!==e&&t.pause()})}},onTimeupdate:function(t){var e=this;this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100);"暂无歌词"!==this.lrc&&(this.lrcObj.map(function(t,n){t.T===Math.floor(e.audio.currentTime)&&(e.lrcIndex=n)}),this.$refs.lrcDiv.scrollTop=20*this.lrcIndex)},onLoadedmetadata:function(t){this.audio.waiting=!1,this.audio.maxTime=parseInt(t.target.duration)}}},f=(n("ajU0"),n("KHd+")),p=Object(f.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con"},[n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogVisible,title:"音频播放",width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.audio.waiting,expression:"audio.waiting"}],staticStyle:{"text-align":"center"},on:{click:t.closeVol}},[n("div",{staticStyle:{"text-align":"center","font-size":"20px","margin-bottom":"10px"}},[n("span",[t._v("歌曲名："+t._s(t.title))])]),t._v(" "),t.lrcShow?n("div",{staticClass:"logo",class:{rotating:t.audio.playing},on:{click:function(e){t.lrcShow=!t.lrcShow}}},[n("img",{staticClass:"bg",attrs:{src:t.logoUrl,alt:"logo"}})]):t._e(),t._v(" "),t.lrcShow?t._e():n("div",{ref:"lrcDiv",staticClass:"lrc",on:{click:function(e){t.lrcShow=!t.lrcShow}}},[n("p",{staticStyle:{height:"80px"}}),t._v(" "),0===t.lrcList.length?n("span",[t._v(t._s(t.lrc))]):t._e(),t._v(" "),t.lrcList.length>=0?n("ul",t._l(t.lrcList,function(e,i){return n("li",{key:i,class:{currLrc:i===t.lrcIndex}},[t._v(t._s(e))])})):t._e()]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"di main-wrap"},[n("audio",{ref:"audio",staticClass:"dn",attrs:{src:t.songUrl,preload:t.audio.preload},on:{play:t.onPlay,error:t.onError,waiting:t.onWaiting,pause:t.onPause,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}}),t._v(" "),n("div",{staticClass:"slideCon"},[n("el-slider",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noProcess,expression:"!controlList.noProcess"}],staticClass:"slider",attrs:{"format-tooltip":t.formatProcessToolTip},on:{change:t.changeCurrentTime},model:{value:t.sliderTime,callback:function(e){t.sliderTime=e},expression:"sliderTime"}})],1),t._v(" "),n("div",{staticClass:"playCon"},[n("el-row",[n("el-col",{staticStyle:{"text-align":"left"},attrs:{span:12}},[n("span",[t._v(t._s(t._f("formatSecond")(t.audio.currentTime)))])]),t._v(" "),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[n("span",[t._v(t._s(t._f("formatSecond")(t.audio.maxTime)))])])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:2}},[n("span",{staticClass:"volume"},[n("i",{staticClass:"el-icon-ali-play",staticStyle:{"font-size":"0px"}})])]),t._v(" "),n("el-col",{staticStyle:{"text-align":"center"},attrs:{span:20}},[n("span",{on:{click:t.startPlayOrPause}},[t.audio.playing?t._e():n("i",{staticClass:"el-icon-ali-play"}),t._v(" "),t.audio.playing?n("i",{staticClass:"el-icon-ali-pause"}):t._e()])]),t._v(" "),n("el-col",{attrs:{span:2}},[n("span",{staticClass:"volume",on:{click:function(e){return e.stopPropagation(),t.showVol(e)}}},[n("i",{staticClass:"el-icon-ali-volume",on:{click:function(e){e.stopPropagation(),t.volumeShow=!t.volumeShow}}}),t._v(" "),t.volumeShow?n("div",{staticClass:"volSlideCon"},[n("el-slider",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noVolume,expression:"!controlList.noVolume"}],staticClass:"slider",attrs:{"format-tooltip":t.formatVolumeToolTip,vertical:""},on:{change:t.changeVolume},model:{value:t.sliderVolume,callback:function(e){t.sliderVolume=e},expression:"sliderVolume"}})],1):t._e()])])],1)],1)])])])])],1)},[],!1,null,"5a322296",null);p.options.__file="index.vue";e.a=p.exports},ajU0:function(t,e,n){"use strict";var i=n("rwVi");n.n(i).a},kbZS:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return r});var i=n("t3Un");function o(t){return Object(i.a)({url:"/Uploads/image",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function a(t){return Object(i.a)({url:"/Uploads/music",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function r(t){return Object(i.a)({url:"/Uploads/doc",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}},lr0I:function(t,e,n){t.exports=n.p+"static/img/imgLogo.5aacdaf.png"},mt6u:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={CONFIRM:"CONFIRM",CANCEL:"CANCEL",CLOSE:"CLOSE"}},o2sD:function(t,e,n){t.exports=n.p+"static/img/404.a57b6f3.png"},rwVi:function(t,e,n){},zEiY:function(t,e,n){"use strict";n.d(e,"p",function(){return o}),n.d(e,"t",function(){return a}),n.d(e,"d",function(){return r}),n.d(e,"l",function(){return l}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return u}),n.d(e,"o",function(){return c}),n.d(e,"s",function(){return d}),n.d(e,"c",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"g",function(){return m}),n.d(e,"a",function(){return h}),n.d(e,"n",function(){return g}),n.d(e,"r",function(){return v}),n.d(e,"b",function(){return b}),n.d(e,"j",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"q",function(){return _}),n.d(e,"u",function(){return w}),n.d(e,"e",function(){return x}),n.d(e,"m",function(){return C});var i=n("t3Un");function o(t){return Object(i.a)({url:"/Musics",method:"get",params:t})}function a(t){return Object(i.a)({url:t,method:"get"})}function r(t){return Object(i.a)({url:"/Musics",method:"post",data:t})}function l(t){return Object(i.a)({url:"/Musics",method:"put",data:t})}function s(t){return Object(i.a)({url:"/Musics",method:"delete",data:t})}function u(t){return Object(i.a)({url:"/DownTimes",method:"get",params:t})}function c(t){return Object(i.a)({url:"/Artists",method:"get",params:t})}function d(t){return Object(i.a)({url:t,method:"get"})}function f(t){return Object(i.a)({url:"/Artists",method:"post",data:t})}function p(t){return Object(i.a)({url:"/Artists",method:"put",data:t})}function m(t){return Object(i.a)({url:"/Artists",method:"delete",data:t})}function h(t){return Object(i.a)({url:t,method:"get"})}function g(t){return Object(i.a)({url:"/Albums",method:"get",params:t})}function v(t){return Object(i.a)({url:t,method:"get"})}function b(t){return Object(i.a)({url:"/Albums",method:"post",data:t})}function y(t){return Object(i.a)({url:"/Albums",method:"put",data:t})}function T(t){return Object(i.a)({url:"/Albums",method:"delete",data:t})}function _(t){return Object(i.a)({url:"/Styles",method:"get",params:t})}function w(t){return Object(i.a)({url:t,method:"get"})}function x(t){return Object(i.a)({url:"/Styles",method:"post",data:t})}function C(t){return Object(i.a)({url:"/Styles",method:"put",data:t})}}}]);