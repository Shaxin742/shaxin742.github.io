(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-dec5"],{"23rR":function(t,e,n){"use strict";var i={name:"LeftTitle",data:function(){return{title:""}},created:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var t=this.$route.matched.filter(function(t){return t.name});this.title=t[t.length-1].name}}},a=n("KHd+"),o=Object(a.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("span",{staticClass:"titleLeft"},[this._v("\n  "+this._s(this.title)+"\n")])},[],!1,null,null,null);o.options.__file="index.vue";e.a=o.exports},"3s8Z":function(t,e,n){"use strict";var i=n("14Xm"),a=n.n(i),o=n("D3Ub"),r=n.n(o),u=n("kbZS"),s={directives:{elDragDialog:n("XINx").a},props:{fileList:{type:Array,default:function(){return[]}},uploadType:{type:String,default:function(){return"images"}}},data:function(){return{uploadTypeTrans:{photo:{urlPath:u.b,accept:"image/jpeg,image/png,image/bmp"},music:{urlPath:u.c,accept:"audio/mp3,video/mp4"},doc:{urlPath:u.a,accept:"application/pdf,text/plain,application/msword,application/excel,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.wordprocessingml.document"}},accept:"",dialogVisible:!1,seeTrans:{music:"歌曲",photo:"图片"},onClosed:function(){}}},mounted:function(){this.uploadType&&this.uploadTypeTrans[this.uploadType].accept&&(this.accept=this.uploadTypeTrans[this.uploadType].accept)},methods:{beforeAvatarUpload:function(t){var e=t.size/1024/1024<16;return e||this.$message.error("上传文件大小不能超过 16MB！"),e},handleRemove:function(t,e){var n=this;console.log(t,e),this.fileList.map(function(e,i){e.name===t.name&&(n.fileList.splice(i,1),n.$emit("getFileList",n.fileList))})},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"})},uploadFile:function(t){var e=this;return r()(a.a.mark(function n(){var i,o;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,console.log(t),(i=new FormData).append(e.uploadType,t.file),n.next=6,e.uploadTypeTrans[e.uploadType].urlPath(i);case 6:0===(o=n.sent).error_code&&(o.data.map(function(n){e.fileList.push({name:t.file.name,url:n.file_url})}),e.$emit("getFileList",e.fileList),e.$emit("fileSize",t.file.size),e.$message.success("上传成功")),console.log(e.fileList),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),e.fileList.pop(),e.$message.error("上传文件错误: "+n.t0.message);case 15:return n.prev=15,e.$store.commit("CLOSE_WAITING"),n.finish(15);case 18:case"end":return n.stop()}},n,e,[[0,11,15,18]])}))()},handlePreview:function(t){var e={file:t,type:this.uploadType};this.$emit("showFile",e)},handleExceed:function(t,e){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")}}},l=n("KHd+"),c=Object(l.a)(s,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-upload",{staticClass:"upload-demo",attrs:{"on-preview":t.handlePreview,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,"before-upload":t.beforeAvatarUpload,limit:1,"on-exceed":t.handleExceed,"file-list":t.fileList,"http-request":t.uploadFile,accept:t.accept,action:""}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传"+t._s(t.seeTrans[t.uploadType])+"文件，且不超过16Mb")])],1)],1)},[],!1,null,null,null);c.options.__file="index.vue";e.a=c.exports},"7MiM":function(t,e,n){},Jk7x:function(t,e,n){},Mz3J:function(t,e,n){"use strict";var i={props:{currentTotal:{type:Number,default:function(){return 1}},currentPage:{type:Number,default:function(){return 1}},pageSize:{type:Number,default:function(){return 7}}},data:function(){return{currentPage1:1}},watch:{currentTotal:function(){console.log(this.currentTotal)},currentPage:function(){console.log(this.currentPage)}},methods:{handlePageSizeChange:function(t){console.log("每页 "+t+" 条")},handlePageCurrentChange:function(t){this.$emit("CurrentPage",t)},init:function(){this.currentPage1=1}}},a=(n("XCmQ"),n("KHd+")),o=Object(a.a)(i,function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-pagination",{attrs:{"current-page":t.currentPage1,"page-size":t.pageSize,total:t.currentTotal,background:"",layout:"prev, pager, next, jumper"},on:{"update:currentPage":function(e){t.currentPage1=e},"size-change":t.handlePageSizeChange,"current-change":t.handlePageCurrentChange}})},[],!1,null,null,null);o.options.__file="index.vue";e.a=o.exports},QmE6:function(t,e,n){"use strict";var i=n("XINx"),a=n("o2sD"),o=n.n(a),r={name:"ImgShow",directives:{elDragDialog:i.a},data:function(){return{dialogVisible:!1,img2:o.a,imgUrl:""}},methods:{open:function(t){console.log(t);var e=t.url.split("/");console.log(e[e.length-1]),e[e.length-1]&&(this.imgUrl=t.url),this.dialogVisible=!0}}},u=(n("ZySL"),n("KHd+")),s=Object(u.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con"},[n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogVisible,title:"图片查看",width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.imgUrl?n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.imgUrl}})]):t._e(),t._v(" "),t.imgUrl?t._e():n("p",[t._v("暂无图片")])])],1)},[],!1,null,"dabe7ba0",null);s.options.__file="index.vue";e.a=s.exports},QoTu:function(t,e,n){},XCmQ:function(t,e,n){"use strict";var i=n("Jk7x");n.n(i).a},XINx:function(t,e,n){"use strict";var i={bind:function(t,e,n){var i=t.querySelector(".el-dialog__header"),a=t.querySelector(".el-dialog");i.style.cssText+=";cursor:move;",a.style.cssText+=";top:0px;";var o=window.document.currentStyle?function(t,e){return t.currentStyle[e]}:function(t,e){return getComputedStyle(t,!1)[e]};i.onmousedown=function(t){var e=t.clientX-i.offsetLeft,r=t.clientY-i.offsetTop,u=a.offsetWidth,s=a.offsetHeight,l=document.body.clientWidth,c=document.body.clientHeight,d=a.offsetLeft,f=l-a.offsetLeft-u,p=a.offsetTop,m=c-a.offsetTop-s,g=o(a,"left"),h=o(a,"top");g.includes("%")?(g=+document.body.clientWidth*(+g.replace(/\%/g,"")/100),h=+document.body.clientHeight*(+h.replace(/\%/g,"")/100)):(g=+g.replace(/\px/g,""),h=+h.replace(/\px/g,"")),document.onmousemove=function(t){var i=t.clientX-e,o=t.clientY-r;-i>d?i=-d:i>f&&(i=f),-o>p?o=-p:o>m&&(o=m),a.style.cssText+=";left:"+(i+g)+"px;top:"+(o+h)+"px;",n.child.$emit("dragDialog")},document.onmouseup=function(t){document.onmousemove=null,document.onmouseup=null}}}},a=function(t){t.directive("el-drag-dialog",i)};window.Vue&&(window["el-drag-dialog"]=i,Vue.use(a)),i.install=a;e.a=i},YcAW:function(t,e,n){"use strict";var i=n("m1cH"),a=n.n(i),o=n("EJiy"),r=n.n(o),u=n("XINx"),s=(n("dunZ"),n("lr0I")),l=n.n(s);n("dunZ");function c(t){var e=void 0===t?"undefined":r()(t);if("number"===e||"string"===e){t=parseInt(t);var n=Math.floor(t/3600);t-=3600*n;var i=Math.floor(t/60);return t-=60*i,n+":"+("0"+i).slice(-2)+":"+("0"+t).slice(-2)}return"0:00:00"}var d={name:"AudioPlay",directives:{elDragDialog:u.a},filters:{formatSecond:function(){return c(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)},transPlayPause:function(t){return t?"暂停":"播放"}},data:function(){return{dialogVisible:!1,currentTime:0,logoUrl:l.a,songUrl:"",title:"",audio:{currentTime:0,maxTime:0,playing:!1,muted:!1,speed:1,waiting:!0,preload:"auto"},sliderTime:0,controlList:{noDownload:!0,noMuted:!0,noVolume:!0,noProcess:!1,onlyOnePlaying:!1,noSpeed:!0}}},watch:{dialogVisible:function(t){!1===t&&this.$refs.audio.pause()}},methods:{formatProcessToolTip:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"进度条: "+c(t=parseInt(this.audio.maxTime/100*t))},changeCurrentTime:function(t){this.$refs.audio.currentTime=parseInt(t/100*this.audio.maxTime)},startPlayOrPause:function(){return this.audio.playing?this.pause():this.play()},play:function(){this.$refs.audio.play()},pause:function(){this.$refs.audio.pause()},onPause:function(){this.audio.playing=!1},open:function(t){console.log(t),this.songUrl=t.url,t.imgUrl&&(this.logoUrl=t.imgUrl),this.title=t.name,this.dialogVisible=!0},onError:function(){this.audio.waiting=!0,this.$message.error("文件错误")},onWaiting:function(t){console.log(t)},onPlay:function(t){if(console.log(t),this.audio.playing=!0,this.audio.loading=!1,this.controlList.onlyOnePlaying){var e=t.target,n=document.getElementsByTagName("audio");[].concat(a()(n)).forEach(function(t){t!==e&&t.pause()})}},onTimeupdate:function(t){this.audio.currentTime=t.target.currentTime,this.sliderTime=parseInt(this.audio.currentTime/this.audio.maxTime*100)},onLoadedmetadata:function(t){this.audio.waiting=!1,this.audio.maxTime=parseInt(t.target.duration)}}},f=(n("pF95"),n("KHd+")),p=Object(f.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"con"},[n("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:t.dialogVisible,title:"音频播放",width:"40%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.audio.waiting,expression:"audio.waiting"}],staticStyle:{"text-align":"center"}},[n("div",{staticStyle:{"text-align":"center","font-size":"20px","margin-bottom":"10px"}},[n("span",[t._v("歌曲名："+t._s(t.title))])]),t._v(" "),n("div",{staticClass:"logo",class:{rotating:t.audio.playing}},[n("img",{attrs:{src:t.logoUrl,alt:"logo"}})]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"di main-wrap"},[n("audio",{ref:"audio",staticClass:"dn",attrs:{src:t.songUrl,preload:t.audio.preload},on:{play:t.onPlay,error:t.onError,waiting:t.onWaiting,pause:t.onPause,timeupdate:t.onTimeupdate,loadedmetadata:t.onLoadedmetadata}}),t._v(" "),n("div",[n("el-button",{attrs:{type:"text"},on:{click:t.startPlayOrPause}},[t._v(t._s(t._f("transPlayPause")(t.audio.playing)))]),t._v(" "),n("el-tag",{attrs:{type:"info"}},[t._v(t._s(t._f("formatSecond")(t.audio.currentTime)))]),t._v(" "),n("el-slider",{directives:[{name:"show",rawName:"v-show",value:!t.controlList.noProcess,expression:"!controlList.noProcess"}],staticClass:"slider",attrs:{"format-tooltip":t.formatProcessToolTip},on:{change:t.changeCurrentTime},model:{value:t.sliderTime,callback:function(e){t.sliderTime=e},expression:"sliderTime"}}),t._v(" "),n("el-tag",{attrs:{type:"info"}},[t._v(t._s(t._f("formatSecond")(t.audio.maxTime)))])],1)])])])])],1)},[],!1,null,"3f7f78ba",null);p.options.__file="index.vue";e.a=p.exports},ZySL:function(t,e,n){"use strict";var i=n("QoTu");n.n(i).a},kbZS:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return r});var i=n("t3Un");function a(t){return Object(i.a)({url:"/Uploads/image",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function o(t){return Object(i.a)({url:"/Uploads/music",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}function r(t){return Object(i.a)({url:"/Uploads/doc",method:"post",headers:{"Content-Type":"multipart/form-data"},data:t})}},lr0I:function(t,e,n){t.exports=n.p+"static/img/imgLogo.5aacdaf.png"},mt6u:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={CONFIRM:"CONFIRM",CANCEL:"CANCEL",CLOSE:"CLOSE"}},o2sD:function(t,e,n){t.exports=n.p+"static/img/404.a57b6f3.png"},pF95:function(t,e,n){"use strict";var i=n("7MiM");n.n(i).a},zEiY:function(t,e,n){"use strict";n.d(e,"p",function(){return a}),n.d(e,"t",function(){return o}),n.d(e,"d",function(){return r}),n.d(e,"l",function(){return u}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return l}),n.d(e,"o",function(){return c}),n.d(e,"s",function(){return d}),n.d(e,"c",function(){return f}),n.d(e,"k",function(){return p}),n.d(e,"g",function(){return m}),n.d(e,"a",function(){return g}),n.d(e,"n",function(){return h}),n.d(e,"r",function(){return v}),n.d(e,"b",function(){return b}),n.d(e,"j",function(){return y}),n.d(e,"f",function(){return T}),n.d(e,"q",function(){return _}),n.d(e,"u",function(){return x}),n.d(e,"e",function(){return w}),n.d(e,"m",function(){return P});var i=n("t3Un");function a(t){return Object(i.a)({url:"/Musics",method:"get",params:t})}function o(t){return Object(i.a)({url:t,method:"get"})}function r(t){return Object(i.a)({url:"/Musics",method:"post",data:t})}function u(t){return Object(i.a)({url:"/Musics",method:"put",data:t})}function s(t){return Object(i.a)({url:"/Musics",method:"delete",data:t})}function l(t){return Object(i.a)({url:"/DownTimes",method:"get",params:t})}function c(t){return Object(i.a)({url:"/Artists",method:"get",params:t})}function d(t){return Object(i.a)({url:t,method:"get"})}function f(t){return Object(i.a)({url:"/Artists",method:"post",data:t})}function p(t){return Object(i.a)({url:"/Artists",method:"put",data:t})}function m(t){return Object(i.a)({url:"/Artists",method:"delete",data:t})}function g(t){return Object(i.a)({url:t,method:"get"})}function h(t){return Object(i.a)({url:"/Albums",method:"get",params:t})}function v(t){return Object(i.a)({url:t,method:"get"})}function b(t){return Object(i.a)({url:"/Albums",method:"post",data:t})}function y(t){return Object(i.a)({url:"/Albums",method:"put",data:t})}function T(t){return Object(i.a)({url:"/Albums",method:"delete",data:t})}function _(t){return Object(i.a)({url:"/Styles",method:"get",params:t})}function x(t){return Object(i.a)({url:t,method:"get"})}function w(t){return Object(i.a)({url:"/Styles",method:"post",data:t})}function P(t){return Object(i.a)({url:"/Styles",method:"put",data:t})}}}]);